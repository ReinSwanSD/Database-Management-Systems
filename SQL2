CREATE TABLE Treatment (
	TreatID NUMBER,
	TreatCost NUMBER(10, 2),
	TreatDesc VARCHAR2(200),
	CONSTRAINT Treatment_PK PRIMARY KEY(TreatID),
	CONSTRAINT TreatCost_CK CHECK(TreatCost >= 50.00)
);

CREATE TABLE Department (
	PhysDept NUMBER,
	DeptSupervisorID NUMBER,
	CONSTRAINT Department_PK PRIMARY KEY(PhysDept)
);

CREATE TABLE Room (
	RoomNo NUMBER,
	RoomPhone VARCHAR(8),
	RoomRate NUMBER(10, 2),
	CONSTRAINT Room_PK PRIMARY KEY(RoomNo),
	CONSTRAINT RoomRate_CK CHECK(RoomRate >= 30.00 AND RoomRate <= 100.00),
	CONSTRAINT RoomNo_CK CHECK(RoomNo >= 100 AND RoomNo <= 999)
);

CREATE TABLE Physician (
	PhysID NUMBER,
	PhysName VARCHAR2(50) CONSTRAINT PhysName_Null NOT NULL,
	PhysDept NUMBER,
	TreatID NUMBER,
	CONSTRAINT Physician_PK PRIMARY KEY(PhysID),
	CONSTRAINT Physician_FK1 FOREIGN KEY(PhysDept) REFERENCES Department(PhysDept),
	CONSTRAINT Physician_FK2 FOREIGN KEY(TreatID) REFERENCES Treatment(TreatID)
);

CREATE TABLE Patient (
	PatientID NUMBER,
	PatientName VARCHAR2(50) CONSTRAINT PatientName_Null NOT NULL,
	PatientAddress VARCHAR2(200) CONSTRAINT PatientAddress_Null NOT NULL,
	AdminDate DATE,
	HospitalStayDays NUMBER,
	RoomNo NUMBER,
	PhysID NUMBER,
	CONSTRAINT Patient_PK PRIMARY KEY(PatientID),
	CONSTRAINT Patient_FK1 FOREIGN KEY(RoomNo) REFERENCES Room(RoomNo),
	CONSTRAINT Patient_FK2 FOREIGN KEY(PhysID) REFERENCES Physician(PhysID),
	CONSTRAINT HospitalStayDays_CK CHECK(HospitalStayDays >= 0)
);

ALTER TABLE DEPARTMENT
ADD CONSTRAINT Department_FK1 FOREIGN KEY(DeptSupervisorID) REFERENCES Physician(PhysID);
